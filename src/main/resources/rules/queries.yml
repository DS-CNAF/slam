#tutuaj specyfikujemy jakie listy mają się wyświetlić na stronie glownej
#w pisanie constraintow do kwerend nie mozna uzywac has role, jest tylko has role in related business entity
#najbezpieczniej robic po jednej kwerendzie
queries:

  - !com.agreemount.bean.Query
    label: Public Offers
    visibilityConstraint:
      !com.agreemount.slaneg.constraint.action.definition.Operator
        type: OR
        children:
        - !com.agreemount.slaneg.constraint.action.definition.HasRoleDef
          role: manager
    constraint: #dla jakich dokumentow ma byc widoczna ta kwerenda
      !com.agreemount.slaneg.constraint.query.definition.Operator
        type: AND
        children:
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: documentType
          value: offer
#        - !com.agreemount.slaneg.constraint.query.definition.HasAnyRoleInRelatedBusinessEntityDef
#          sth: sth
        - !com.agreemount.slaneg.constraint.query.definition.IsLeafADef
          sth: ok
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: mainState
          value: offerPublished
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: OfferType
          value: publicOffer

  - !com.agreemount.bean.Query
    label: Private Offers
    visibilityConstraint:
      !com.agreemount.slaneg.constraint.action.definition.Operator
        type: OR
        children:
        - !com.agreemount.slaneg.constraint.action.definition.HasRoleDef
          role: manager
    constraint: #dla jakich dokumentow ma byc widoczna ta kwerenda
      !com.agreemount.slaneg.constraint.query.definition.Operator
        type: AND
        children:
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: documentType
          value: offer
#        - !com.agreemount.slaneg.constraint.query.definition.HasAnyRoleInRelatedBusinessEntityDef
#          sth: sth
        - !com.agreemount.slaneg.constraint.query.definition.IsLeafADef
          sth: ok
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: mainState
          value: offerPublished
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: OfferType
          value: privateOffer

  - !com.agreemount.bean.Query
    label: My Public Offers
    visibilityConstraint:
      !com.agreemount.slaneg.constraint.action.definition.Operator
        type: OR
        children:
        - !com.agreemount.slaneg.constraint.action.definition.HasRoleDef
          role: provider
    constraint: #dla jakich dokumentow ma byc widoczna ta kwerenda
      !com.agreemount.slaneg.constraint.query.definition.Operator
        type: AND
        children:
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: documentType
          value: offer
        - !com.agreemount.slaneg.constraint.query.definition.HasAnyRoleInRelatedBusinessEntityDef
          sth: sth
        - !com.agreemount.slaneg.constraint.query.definition.IsLeafADef
          sth: ok
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: mainState
          value: offerPublished
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: OfferType
          value: publicOffer

  - !com.agreemount.bean.Query
    label: My Private Offers
    visibilityConstraint:
      !com.agreemount.slaneg.constraint.action.definition.Operator
        type: OR
        children:
        - !com.agreemount.slaneg.constraint.action.definition.HasRoleDef
          role: provider
    constraint: #dla jakich dokumentow ma byc widoczna ta kwerenda
      !com.agreemount.slaneg.constraint.query.definition.Operator
        type: AND
        children:
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: documentType
          value: offer
        - !com.agreemount.slaneg.constraint.query.definition.HasAnyRoleInRelatedBusinessEntityDef
          sth: sth
        - !com.agreemount.slaneg.constraint.query.definition.IsLeafADef
          sth: ok
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: mainState
          value: offerPublished
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: OfferType
          value: privateOffer

  - !com.agreemount.bean.Query
    label: Hidden (non-published) offers
    visibilityConstraint:
      !com.agreemount.slaneg.constraint.action.definition.Operator
        type: OR
        children:
        - !com.agreemount.slaneg.constraint.action.definition.HasRoleDef
          role: provider
    constraint: #dla jakich dokumentow ma byc widoczna ta kwerenda
      !com.agreemount.slaneg.constraint.query.definition.Operator
        type: AND
        children:
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: documentType
          value: offer
        - !com.agreemount.slaneg.constraint.query.definition.IsLeafADef
          sth: ok
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: statusMain
          value: offerHidden
        - !com.agreemount.slaneg.constraint.query.definition.HasAnyRoleInRelatedBusinessEntityDef
          sth: sth

######################################################

  - !com.agreemount.bean.Query
    label: My negotiations
    visibilityConstraint:
      !com.agreemount.slaneg.constraint.action.definition.Operator
        type: OR
        children:
        - !com.agreemount.slaneg.constraint.action.definition.HasRoleDef
          role: manager
    constraint: #dla jakich dokumentow ma byc widoczna ta kwerenda
      !com.agreemount.slaneg.constraint.query.definition.Operator
        type: AND
        children:
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: documentType
          value: request
#        - !com.agreemount.slaneg.constraint.query.definition.HasAnyRoleInRelatedBusinessEntityDef
#          sth: sth #do odkomentowania jak będzie właściwe przypisywanie teamu przy createNewRoot
        - !com.agreemount.slaneg.constraint.query.definition.IsLeafADef
          sth: ok
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: mainState
          value: sent

  - !com.agreemount.bean.Query
    label: My signed public SLAs
    visibilityConstraint:
      !com.agreemount.slaneg.constraint.action.definition.Operator
        type: OR
        children:
        - !com.agreemount.slaneg.constraint.action.definition.HasRoleDef
          role: manager
    constraint: #dla jakich dokumentow ma byc widoczna ta kwerenda
      !com.agreemount.slaneg.constraint.query.definition.Operator
        type: AND
        children:
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: documentType
          value: sla
#        - !com.agreemount.slaneg.constraint.query.definition.HasAnyRoleInRelatedBusinessEntityDef
#          sth: sth #do odkomentowania jak będzie właściwe przypisywanie teamu przy createNewRoot
        - !com.agreemount.slaneg.constraint.query.definition.IsLeafADef
          sth: ok
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: mainState
          value: signed
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: OfferType
          value: publicOffer

  - !com.agreemount.bean.Query
    label: My signed private SLAs
    visibilityConstraint:
      !com.agreemount.slaneg.constraint.action.definition.Operator
        type: OR
        children:
        - !com.agreemount.slaneg.constraint.action.definition.HasRoleDef
          role: manager
    constraint: #dla jakich dokumentow ma byc widoczna ta kwerenda
      !com.agreemount.slaneg.constraint.query.definition.Operator
        type: AND
        children:
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: documentType
          value: sla
#        - !com.agreemount.slaneg.constraint.query.definition.HasAnyRoleInRelatedBusinessEntityDef
#          sth: sth #do odkomentowania jak będzie właściwe przypisywanie teamu przy createNewRoot
        - !com.agreemount.slaneg.constraint.query.definition.IsLeafADef
          sth: ok
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: mainState
          value: signed
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: OfferType
          value: privateOffer

  - !com.agreemount.bean.Query
    label: My drafts
    visibilityConstraint:
      !com.agreemount.slaneg.constraint.action.definition.Operator
        type: OR
        children:
        - !com.agreemount.slaneg.constraint.action.definition.HasRoleDef
          role: manager
    constraint: #dla jakich dokumentow ma byc widoczna ta kwerenda
      !com.agreemount.slaneg.constraint.query.definition.Operator
        type: AND
        children:
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: documentType
          value: request
#        - !com.agreemount.slaneg.constraint.query.definition.HasAnyRoleInRelatedBusinessEntityDef
#          sth: sth #do odkomentowania jak będzie właściwe przypisywanie teamu przy createNewRoot
        - !com.agreemount.slaneg.constraint.query.definition.IsLeafADef
          sth: ok
        - !com.agreemount.slaneg.constraint.query.definition.StateEqualsDef
          state: mainState
          value: draft


#dodać kwerendę dla providera opieracjącą się o relację z ofertami (moje sla publiczne/prywatne)
